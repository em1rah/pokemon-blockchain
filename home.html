<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pok√©mon Trainer ‚Äì Arena</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
   <link rel="icon" href="images/favicon.png" sizes="32x32">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  *{margin:0;padding:0;box-sizing:border-box;}
  body{
    min-height:100vh;
    color:white;
    display:flex;
    flex-direction:column;
    background:#000000;
    font-family:'Inter',sans-serif;
    position:relative;
    overflow-x:hidden;
  }

  body::before{
    content:'';
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    background: url('images/shinnok_s_spire_by_deexie_d86or9a-fullview.jpg') center/cover no-repeat;
    opacity:0.35;z-index:-2;pointer-events:none;
  }

  body::after{
    content:'';
    position:fixed;
    top:0;left:0;width:100%;height:100%;
    background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><text x="50%" y="50%" font-family="Arial" font-size="120" fill="rgba(255,203,5,0.05)" text-anchor="middle" dominant-baseline="middle" transform="rotate(-45 100 100)">POK√âMON</text></svg>') repeat;
    opacity:0.2;z-index:-1;pointer-events:none;
  }

  body > header, body > .container, body > .game-menu{
    position:relative;z-index:1;
  }

  header h1, nav a, .name, label, .btn, .tab, .price { font-family:'Inter',system-ui,Segoe UI,Arial,sans-serif; }
  header h1 { font-family:'Press Start 2P',cursive; letter-spacing:.5px; }

  /* Sidebar */
  .sidebar{position:fixed;left:0;top:0;bottom:0;width:230px;background:linear-gradient(180deg,#0b1021,#0a0f1d);border-right:1px solid rgba(255,255,255,.08);z-index:20}
  .sidebar .brand{padding:16px;border-bottom:1px solid rgba(255,255,255,.08)}
    .sidebar .brand h1{font-family:'Press Start 2P',cursive;color:#ffcb05;font-size:1.1rem;margin:0}
  .menu{padding:12px}
  .menu a{display:block;color:#ffcb05;text-decoration:none;font-weight:700;padding:10px 12px;border:2px solid rgba(255,203,5,.25);border-radius:10px;margin-bottom:10px;transition:.2s}
  .menu a:hover{background:rgba(255,203,5,.15);border-color:#fff;transform:translateX(4px)}
  .sidebar .status{position:absolute;left:12px;right:12px;bottom:12px;display:flex;flex-direction:column;gap:8px}
    .coins{color:#efe339;padding:8px 14px;border-radius:12px;font-weight:700;font-size:0.9rem;display:inline-block;box-shadow:0 2px 4px rgba(0,0,0,0.3);text-align:center}
  .wallet{text-align:center;color:#ddd}
  .logout-btn{background:#f44336;color:#fff;border:none;border-radius:10px;padding:8px 12px;font-weight:700;cursor:pointer}

  /* Pokemon Game Menu */
  .game-menu{
    flex:1;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:2rem;
    position:relative;
  }
  .container-shift{margin-left:240px}

  .pokemon-logo-large{
    font-size:4rem;
    font-weight:bold;
    background:linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FFD700 100%);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
    text-shadow:0 0 20px rgba(255,215,0,.5);
    margin-bottom:10px;
    letter-spacing:8px;
    animation:glow 2s ease-in-out infinite alternate;
  }

  @keyframes glow{
    from{filter:drop-shadow(0 0 10px rgba(255,215,0,.5));}
    to{filter:drop-shadow(0 0 20px rgba(255,215,0,.8));}
  }

  .game-subtitle{
    font-size:1.2rem;
    color:#ffcb05;
    margin-bottom:3rem;
    letter-spacing:4px;
    text-shadow:2px 2px 4px rgba(0,0,0,.5);
  }

  .main-menu{
    display:flex;
    flex-direction:column;
    gap:12px;
    min-width:320px;
    margin-bottom:2rem;
  }

  .menu-btn{
    background:rgba(0,0,0,.8);
    border:3px solid #ffcb05;
    border-radius:8px;
    padding:16px 24px;
    color:#ffcb05;
    font-family:'Press Start 2P',cursive;
    font-size:0.9rem;
    cursor:pointer;
    display:flex;
    align-items:center;
    gap:15px;
    transition:all .3s;
    text-transform:uppercase;
    letter-spacing:2px;
    position:relative;
    overflow:hidden;
  }

  .menu-btn::before{
    content:'';
    position:absolute;
    left:0;top:0;height:100%;width:0;
    background:rgba(255,203,5,.2);
    transition:width .3s;
  }
  .menu-btn:hover::before{width:100%;}
  .menu-btn:hover{
    background:rgba(255,203,5,.15);
    border-color:#fff;
    transform:translateX(10px);
    box-shadow:0 0 15px rgba(255,203,5,.5);
  }
  .menu-btn:active{transform:translateX(5px);}

  .menu-icon{font-size:1.2rem;min-width:30px;text-align:center;}
  .menu-text{flex:1;}

  .trainer-info{
    position:absolute;
    bottom:2rem;
    right:2rem;
    background:rgba(0,0,0,.8);
    border:2px solid #ffcb05;
    border-radius:12px;
    padding:15px 20px;
    display:flex;
    flex-direction:column;
    gap:8px;
    min-width:200px;
  }
  .info-item{display:flex;justify-content:space-between;font-size:0.7rem;font-family:'Press Start 2P',cursive;}
  .info-label{color:#aaa;}
  .info-value{color:#ffcb05;}

  /* ---------- BIG PIKACHU + SPEECH BUBBLE ---------- */
  .pikachu-wrapper{
    position:absolute;
    left:2rem;
    bottom:2rem;
    display:flex;
    align-items:flex-end;
    gap:1.5rem;
    animation:fadeIn .8s ease-out forwards;
  }
  .pikachu{
    width:260px;
    height:260px;
    object-fit:contain;
    filter:drop-shadow(0 8px 16px rgba(0,0,0,.7));
    transform:scale(1);
    transition:transform .2s;
  }
  .pikachu:hover{transform:scale(1.05);}

  /* Speech bubble ‚Äì classic Pok√©mon style */
  .speech-bubble{
    position:relative;
    background:#fff;
    color:#111;
    padding:1.2rem 1.8rem;
    border-radius:1.8rem;
    font-family:'Press Start 2P',cursive;
    font-size:1.1rem;
    max-width:260px;
    box-shadow:0 6px 12px rgba(0,0,0,.5);
    animation:bubblePop .6s ease-out forwards;
    margin-bottom:150px;
    right:550px;
  }
  .speech-bubble::before{
    content:'';
    position:absolute;
    bottom:0;
    left:-1.2rem;
    width:0;height:0;
    border:1.2rem solid transparent;
    border-right-color:#fff;
    border-left:0;
    filter:drop-shadow(-4px 4px 4px rgba(0,0,0,.2));
  }

  /* ---------- POKEMON SELECTOR CIRCLES ---------- */
  .pokemon-selector{
    display:flex;
    gap:8px;
    align-items:flex-end;
    animation:fadeInUp .8s ease-out .2s forwards;
    opacity:0;
  }

  .pokemon-option{
    width:55px;
    height:55px;
    border-radius:50%;
    border:3px solid rgba(255,203,5,.4);
    cursor:pointer;
    transition:all .3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    position:relative;
    overflow:hidden;
    background:rgba(255,255,255,.1);
    backdrop-filter:blur(10px);
  }

  .pokemon-option:hover{
    transform:scale(1.15) rotate(10deg);
    border-color:#ffcb05;
    box-shadow:0 0 25px rgba(255,203,5,.6);
  }

  .pokemon-option.active{
    border-color:#ffcb05;
    box-shadow:0 0 20px rgba(255,203,5,.8);
    background:rgba(255,203,5,.2);
  }

  .pokemon-option img{
    width:100%;
    height:100%;
    object-fit:contain;
    padding:4px;
    filter:drop-shadow(0 2px 4px rgba(0,0,0,.5));
  }

  @keyframes fadeInUp{
    from{opacity:0;transform:translateY(30px);}
    to{opacity:1;transform:translateY(0);}
  }

  @keyframes fadeIn{
    from{opacity:0;transform:translateY(20px);}
    to{opacity:1;transform:translateY(0);}
  }
  @keyframes bubblePop{
    0%{opacity:0;transform:scale(0.6);}
    70%{transform:scale(1.1);}
    100%{opacity:1;transform:scale(1);}
  }
 

  .logout{margin:2rem auto;display:block;padding:.9rem 2.5rem;background:#f44336;color:white;border:none;border-radius:12px;font-weight:600;cursor:pointer;}
  .logout:hover{background:#d32f2f;}
</style>
</head>
<body>
  <aside class="sidebar">
    <div class="brand"><h1>Pikaplay Home</h1></div>
    <div class="menu">
        <a href="home.html">üè† Home</a>
      <a href="arena.html">‚öî Arena</a>
      <a href="shop.html">üõí Shop</a>
      <a href="settings.html">‚öô Settings</a>
    </div>
    <div class="status">
      <span class="coins" id="coinDisplay">‚àû Coins</span>
      <span class="wallet" id="walletDisplay"></span>
      <button class="logout-btn" id="logoutBtn">Logout</button>
    </div>
  </aside>

  <div class="game-menu container-shift" id="gameMenu">
    <div class="pokemon-logo-large"></div>
    <div class="game-subtitle"></div>

    <div class="main-menu">
      <button class="menu-btn" id="continueBtn">
        <span class="menu-icon">‚ñ∂</span>
        <span class="menu-text">CONTINUE</span>
      </button>

      <button class="menu-btn" id="arenaBtn">
        <span class="menu-icon">‚öî</span>
        <span class="menu-text">BATTLE ARENA</span>
      </button>

      <button class="menu-btn" id="shopBtn">
        <span class="menu-icon">üõí</span>
        <span class="menu-text">POK√âMON SHOP</span>
      </button>

      <button class="menu-btn" id="settingsBtn">
        <span class="menu-icon">‚öô</span>
        <span class="menu-text">SETTINGS</span>
      </button>
    </div>

    <div class="pikachu-wrapper">
      <img class="pikachu"
           src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/25.gif"
           alt="Pikachu" id="mainPikachu">
      
      <!-- POKEMON SELECTOR CIRCLES -->
      <div class="pokemon-selector" id="pokemonSelector">
        <div class="pokemon-option active" data-pokemon-id="25">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/25.gif" alt="Pikachu">
        </div>
        <div class="pokemon-option" data-pokemon-id="2">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/2.gif" alt="Bulbasaur">
        </div>
        <div class="pokemon-option" data-pokemon-id="4">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/4.gif" alt="Charmander">
        </div>
        <div class="pokemon-option" data-pokemon-id="7">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/7.gif" alt="Squirtle">
        </div>
        <div class="pokemon-option" data-pokemon-id="18">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/18.gif" alt="Eevee">
        </div>
         <div class="pokemon-option" data-pokemon-id="26">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/26.gif" alt="Eevee">
        </div>
        <div class="pokemon-option" data-pokemon-id="117">
          <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/117.gif" alt="Eevee">
        </div>
        
      </div>

      <div class="speech-bubble">Welcome to PikaPlay!</div>
    </div>

    <div class="trainer-info">
      <div class="info-item">
        <span class="info-label">Trainer:</span>
        <span class="info-value" id="trainerName">---</span>
      </div>
      <div class="info-item">
        <span class="info-label">Coins:</span>
        <span class="info-value" id="trainerCoins">0</span>
      </div>
    </div>
  </div>

<script>
  const session = JSON.parse(localStorage.getItem('trainerSession'));
  if (!session) location.href = 'index.html';

  const trainerName = document.getElementById('trainerName');
  trainerName.textContent = session.type === 'metamask' 
    ? `${session.address.slice(0,6)}...${session.address.slice(-4)}`
    : session.address.split('@')[0];

  const walletDisplay = document.getElementById('walletDisplay');

  // === Player & Coins ===
  let player = { id: 25, name: "Pikachu", hp: 100, maxHp: 100 };
  const USER_ID = session.type === 'metamask' ? session.address.toLowerCase() : session.address.toLowerCase();
  const ns = (k) => `${USER_ID}:${k}`;
  const COIN_KEY = ns('coins');
  const STARTER_KEY = ns('starterClaimed');
  const SETTINGS_KEY = ns('settings');
  const WALLET = session.type === 'metamask' ? session.address : null;
  if (WALLET) walletDisplay.textContent = WALLET.slice(0,6)+"..."+WALLET.slice(-4);

  function getCoins(){ return parseInt(localStorage.getItem(COIN_KEY) || '0'); }
  function setCoins(v){ 
    localStorage.setItem(COIN_KEY, String(v));
    localStorage.setItem('coins', String(v));
    document.getElementById('coinDisplay').textContent = v + ' Coins';
    document.getElementById('trainerCoins').textContent = v;
  }
  if (localStorage.getItem(COIN_KEY) === null) { setCoins(500); } else { setCoins(getCoins()); }

  // === POKEMON SELECTOR FUNCTIONALITY ===
  const mainPikachu = document.getElementById('mainPikachu');
  const pokemonSelector = document.getElementById('pokemonSelector');
  const pokemonOptions = pokemonSelector.querySelectorAll('.pokemon-option');

  function updateMainPokemon(pokemonId) {
    const spriteUrl = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/versions/generation-v/black-white/animated/${pokemonId}.gif`;
    mainPikachu.src = spriteUrl;
    mainPikachu.alt = `${pokemonOptions[pokemonId === 25 ? 0 : pokemonId === 1 ? 1 : pokemonId === 4 ? 2 : pokemonId === 7 ? 3 : 4].dataset.pokemonId}`;
    
    // Update player object
    player.id = pokemonId;
    
   
    pokemonOptions.forEach(opt => opt.classList.remove('active'));
    document.querySelector(`[data-pokemon-id="${pokemonId}"]`).classList.add('active');
  }

  pokemonOptions.forEach(option => {
    option.addEventListener('click', () => {
      const pokemonId = parseInt(option.dataset.pokemonId);
      updateMainPokemon(pokemonId);
    });
  });

  
  updateMainPokemon(25);

  const menuMap = {
    continueBtn : 'home.html',   
    arenaBtn    : 'arena.html',
    shopBtn     : 'shop.html',
    settingsBtn : 'settings.html'
  };

  Object.entries(menuMap).forEach(([btnId, targetPage]) => {
    const btn = document.getElementById(btnId);
    if (btn) {
      btn.onclick = () => location.href = targetPage;
    }
  });

  document.getElementById('logoutBtn').onclick = () => {
    localStorage.removeItem('trainerSession');
    location.href = 'index.html';
  };
</script>
</body>
</html>